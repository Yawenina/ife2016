<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task 14</title>
</head>
<body>
    <h3>污染城市列表</h3>
    <ul id="aqi-list">
        <!--
            <li>第一名：福州（样例），10</li>
              <li>第二名：福州（样例），10</li> -->
    </ul>

    <script>
        var aqiData = [
            ["北京", 90],
            ["上海", 50],
            ["福州", 10],
            ["广州", 50],
            ["成都", 90],
            ["西安", 100]
        ];
        var ul = document.getElementById("aqi-list");

        (function () {

            function compare(arr1,arr2){
                return arr1[1] - arr2[1];
            }

            //先筛选再排序
            var result = aqiData.filter(function(item){
                return item[1] > 60;
            }).sort(compare);

            //将排序结果插入文档片段
            var fragment = document.createDocumentFragment();

            for(var i=0;i<result.length;i++){
                var item = result[i];
                var text = "第" + (i+1) +"名：" + item[0] +", " +item[1];
                var li = document.createElement("li");
                li.appendChild(document.createTextNode(text));
                fragment.appendChild(li);
            }

            //将文档片段插入文档
            ul.appendChild(fragment);

        })();
    </script>
</body>
</html>