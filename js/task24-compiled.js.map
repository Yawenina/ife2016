{"version":3,"sources":["task24.js"],"names":[],"mappings":"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","file":"task24-compiled.js","sourcesContent":["\t\t//cache dom\n\t\tlet container = document.querySelector('.container'),\n\t\t\t\t\tbf = document.getElementById('bf'),\n\t\t\t\t\tdf = document.getElementById('df'),\n\t\t\t\t\tbfs = document.getElementById('bfs'),\n\t\t\t\t\tdfs = document.getElementById('dfs'),\n\t\t\t\t\tsearchInput = document.getElementById('searchText'),\n\t\t\t\t\taddInput = document.getElementById('addInput'),\n\t\t\t\t\taddBtn = document.getElementById('add'),\n\t\t\t\t\tremoveBtn = document.getElementById('remove');\n\n\t\t//声明所需变量\t\t\t\n\t\tlet text = '', //搜索内容\n\t\t\taddText = '', //添加元素内容\n\t\t\tdivList = [], //遍历元素\n\t\t\ttarget = null, //点击按钮\n\t\t\tselectedElem = null; //选择的元素\n\n\t\t//深度优先遍历\n\t\tfunction traverseDF(node){\n\t\t\t(function searchChildren(node){\n\t\t\t\tfor(let i=0,len=node.children.length;i<len;i++){\n\t\t\t\t\tsearchChildren(node.children[i])\n\t\t\t\t}\n\t\t\t\tdivList.push(node)\n\t\t\t})(node)\n\t\t}\n\n\t\t//广度优先遍历\n\t\tfunction traverseBF(node){\n\t\t\tlet list = []\n\t\t\tlist.push(node)\n\t\t\tlet currentDiv = list.shift()\n\n\t\t\twhile(currentDiv){\n\t\t\t\tfor(let i=0,len = currentDiv.children.length;i<len;i++){\n\t\t\t\tlist.push(currentDiv.children[i])\n\t\t\t\t}\n\t\t\t\tdivList.push(currentDiv)\n\t\t\t\tcurrentDiv = list.shift()\n\t\t\t}\n\t\t}\n\n\t\t//遍历搜索\n\t\tfunction search(){\n\t\t\tif(!text.trim()){\n\t\t\t\talert('please enter a search number')\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//根据id选择遍历类型,'b'为广度搜索，'d'为深度搜索\n\t\t\ttarget.id.indexOf('b') == -1 ? traverseDF(container) : traverseBF(container)\n\t\t\tlet i = divList.findIndex(function(elem){\n\t\t\t\treturn elem.firstChild.nodeValue.trim() == text\n\t\t\t})\n\t\t\tif(i== -1){\n\t\t\t\talert('Sorry , please enter a number between 1 to 15')\n\t\t\t\tinput.value = ''\n\t\t\t}else{\n\t\t\t\tdivList.length = i+1\n\t\t\t\tchangeColor(lastDivColor)\n\t\t\t}\n\t\t}\n\n\n\n\t\t//遍历动画函数\n\t\tfunction changeColor(callback){\n\t\t\tlet i=0\n\t\t\tdivList[i].style.background = 'pink'\n\t\t\tlet timer  = setInterval(function(){\n\t\t\t\ti++;\n\t\t\t\tif(i<divList.length){\n\t\t\t\t\tdivList[i].style.background = 'pink'\n\t\t\t\t\tdivList[i-1].style.background = '#fff'\n\t\t\t\t}else{\n\t\t\t\t\tclearInterval(timer)\n\t\t\t\t\tcallback()\n\t\t\t\t}\n\t\t\t},500)\n\t\t}\n\n\t\t//遍历动画中setInterval执行到最后时的回调函数，根据遍历和搜索的不同设置最后一个遍历的div的颜色\n\t\tfunction lastDivColor(){\n\t\t\tlastDiv = divList[divList.length-1]\n\t\t\t//如果id里有's'则为搜索，否则为遍历\n\t\t\ttarget.id.indexOf('s') == -1 ? lastDiv.style.background = '#fff' : lastDiv.style\n\t\t\tbackground = 'pink'\n\t\t}\n\n\t\t//将所有元素的背景色设置为白色\n\t\tfunction reset(){\n\t\t\tif(divList.length>0){\n\t\t\t\tdivList[divList.length-1].style.background = '#fff'\n\t\t\t\tdivList = []\n\t\t\t}\n\t\t\tif(selectedElem){\n\t\t\t\tselectedElem.style.background = '#fff'\n\t\t\t}\n\t\t}\n\n\t\t//添加子节点\n\t\tfunction addElem(){\n\t\t\t//判断有无选中元素\n\t\t\tif(!selectedElem){\n\t\t\t\talert('请选中元素！')\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t//判断是否写入元素内容\n\t\t\tif(!addText){\n\t\t\t\talert('请写入要添加的元素的内容！')\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t//将新增子节点加入到选中元素中\n\t\t\tlet div = document.createElement('div')\n\t\t\tdiv.innerHTML = addText\n\t\t\tselectedElem.appendChild(div)\n\t\t}\n\n\t\t//删除元素\n\t\tfunction removeElem(){\n\t\t\t//判断有无选中元素\n\t\t\tif(!selectedElem){\n\t\t\t\talert('请选中元素！')\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t//删除子元素\n\t\t\tselectedElem.innerHTML = ''\n\t\t\t//删除本身\n\t\t\tselectedElem.parentNode.removeChild(selectedElem)\n\t\t}\n\n\t\t//监听事件\n\t\twindow.onload = function(){\n\t\t\tdf.onclick = function(e){\n\t\t\t\treset()\n\t\t\t\ttarget = e.target\n\t\t\t\ttraverseDF(container)\n\t\t\t\tchangeColor(lastDivColor)\n\t\t\t}\n\n\t\t\tbf.onclick = function(e){\n\t\t\t\treset()\n\t\t\t\ttarget = e.target\n\t\t\t\ttraverseBF(container)\n\t\t\t\tchangeColor(lastDivColor)\n\t\t\t}\n\n\t\t\tsearchInput.onchange = function(){\n\t\t\t\ttext = searchInput.value\n\t\t\t}\n\n\t\t\tdfs.onclick = function(e){\n\t\t\t\treset()\n\t\t\t\ttarget = e.target\n\t\t\t\tsearch()\n\t\t\t}\n\n\t\t\tbfs.onclick = function(e){\n\t\t\t\treset()\n\t\t\t\ttarget = e.target\n\t\t\t\tsearch()\n\t\t\t}\n\n\t\t\tcontainer.onclick = function(e){\n\t\t\t\treset()\n\t\t\t\t//保存当前点击元素并设置背景色\n\t\t\t\tselectedElem = e.target\n\t\t\t\tselectedElem.style.background = '#ccddee'\n\t\t\t}\n\n\t\t\taddInput.onchange = function(){\n\t\t\t\taddText = addInput.value\n\t\t\t}\n\n\t\t\taddBtn.onclick = addElem\n\t\t\tremoveBtn.onclick = removeElem\n\t\t}"]}